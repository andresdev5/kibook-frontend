<nav class="navbar border-b border-slate-300 z-10">
    <div class="container mx-auto flex justify-between items-center">
        <div class="navbar-start">
            <a class="link text-base-content/90 link-neutral text-xl font-semibold no-underline" routerLink="/">
                Kibook
            </a>
        </div>
        <div class="navbar-center max-sm:hidden">
            <ul class="menu menu-horizontal gap-2 p-0 text-base rtl:ml-20">
                <li
                    class="dropdown relative inline-flex [--auto-close:inside] [--offset:9] [--placement:bottom-end] max-sm:[--placement:bottom]">
                    <button id="dropdown-end" type="button"
                        class="dropdown-toggle dropdown-open:bg-base-content/10 dropdown-open:text-base-content max-sm:px-2"
                        aria-haspopup="menu" aria-expanded="false" aria-label="Dropdown">
                        Libros
                        <span class="icon-[tabler--chevron-down] dropdown-open:rotate-180 size-4"></span>
                    </button>
                    <ul class="dropdown-menu dropdown-open:opacity-100 hidden w-48" role="menu" aria-orientation="vertical"
                        aria-labelledby="nested-dropdown">
                        <li><a class="dropdown-item" routerLink="/books/search">Buscar Libro</a></li>
                    </ul>
                </li>
                <li><a href="#">Autores</a></li>
                <li><a href="#">Géneros</a></li>
            </ul>
        </div>
        <div class="navbar-end items-center gap-4">
            <div class="dropdown relative inline-flex sm:hidden rtl:[--placement:bottom-end]">
                <button id="dropdown-default" type="button" class="dropdown-toggle btn btn-text btn-secondary btn-square"
                    aria-haspopup="menu" aria-expanded="false" aria-label="Dropdown">
                    <span class="icon-[tabler--menu-2] dropdown-open:hidden size-5"></span>
                    <span class="icon-[tabler--x] dropdown-open:block hidden size-5"></span>
                </button>
                <ul class="dropdown-menu dropdown-open:opacity-100 hidden min-w-60" role="menu" aria-orientation="vertical"
                    aria-labelledby="dropdown-default">
                    <li
                        class="dropdown relative [--auto-close:inside] [--offset:9] [--placement:bottom-end] max-sm:[--placement:bottom]">
                        <a id="dropdown-end-2"
                            class="dropdown-toggle dropdown-item dropdown-open:bg-base-content/10 dropdown-open:text-base-content justify-between"
                            href="#" aria-haspopup="menu" aria-expanded="false" aria-label="Dropdown">
                            Libros
                            <span class="icon-[tabler--chevron-right] size-4 rtl:rotate-180"></span>
                        </a>
                        <ul class="dropdown-menu dropdown-open:opacity-100 hidden w-48" role="menu"
                            aria-orientation="vertical" aria-labelledby="nested-dropdown">
                            <li><a class="dropdown-item" href="#">Agregar libro</a></li>
                            <li><a class="dropdown-item" href="#">Buscar libros</a></li>
                        </ul>
                    </li>
                    <li><a class="dropdown-item" href="#">Autores</a></li>
                    <li><a class="dropdown-item" href="#">Géneros</a></li>
                </ul>
            </div>
            @if (loggedUser) {
                <div class="dropdown relative inline-flex [--auto-close:inside] [--offset:8] [--placement:bottom-end]">
                <button id="dropdown-scrollable" type="button" class="dropdown-toggle flex items-center" aria-haspopup="menu" aria-expanded="false" aria-label="Dropdown">
                    <div class="avatar">
                    <div class="size-9.5 rounded-full">
                        <img src="https://cdn.flyonui.com/fy-assets/avatar/avatar-1.png" alt="avatar 1" />
                    </div>
                    </div>
                    <div class="flex flex-col items-start ml-3">
                    <h6 class="text-base-content/90 text-base font-semibold">{{ loggedUser.username }}</h6>
                    <small class="text-base-content/50">{{ loggedUser.role }}</small>
                    </div>
                </button>
                <ul class="dropdown-menu dropdown-open:opacity-100 hidden min-w-52" role="menu" aria-orientation="vertical" aria-labelledby="dropdown-avatar">
                    <li>
                    <a class="dropdown-item" href="#">
                        <span class="icon-[tabler--user]"></span>
                        Mi perfil
                    </a>
                    </li>
                    @if (loggedUser.role === 'ADMIN') {
                        <li>
                            <a class="dropdown-item" routerLink="/admin">
                                <span class="icon-[tabler--settings]"></span>
                                Administración
                            </a>
                        </li>
                    }
                    <li><hr class="border-base-content/25 -mx-2 my-3" /></li>
                    <li>
                    <a class="dropdown-item btn btn-text btn-error py-1" (click)="logout()">
                        <span class="icon-[tabler--logout]"></span>
                        Cerrar sesión
                    </a>
                    </li>
                </ul>
                </div>
            }
        </div>
    </div>
</nav>
